# Vi

## 文件格式

### 查看文件格式

- `:set ff` *（ff为file format的缩写）*  


### 修改文件格式

- `:set ff=unix`        
    类unix系统文件格式，换行符为\n
- `:set ff=dos `        
    Windows文件格式，换行符为\r\n

当windows下的文件传输到linux上时，可以使用`:set ff=unix`来转换换行符

## 文件编码

### 查看文件编码

- `:set fileencoding`

### 修改文件编码

- `:set fileencoding=utf-8` *修改文件编码为utf-8*

## 跳转

### 显示行号

- `:set number`
    显示行号
- `:set nonumber`
    取消显示行号

### 绝对跳转

假设当前文件有97行

- `:66 `     跳转到66行
- `:100 `    跳转到97行（最后一行）
- `:0  `     跳转到第一行
- `:1`       跳转到第一行

### 相对跳转

假设当前文件有46行，现在光标位于24行

- `:+10`     跳转到第34行，相对当前行向前10行
- `:-8`      跳转到第16行，相对于当前行后退8行

- `:+100`    跳转到第46行（最后一行）
- `:-100`    报错：Invalid range

### 其他
- `gg`: 跳转到文件开头
- `G`:  跳转到文件末尾

## 搜索


- `/[regex]`    向下搜索
- `?[regex]`    向后搜索

- `n`: 向下选择下一个匹配结果
- `N`: 向上选择上一个匹配结果

::: tip
助记：n: next  
也可以使用3n, 10N等[整数][n|N]的形式来跳跃选择。
如3n表示向下选择第三个匹配结果。
:::

## 编辑

### 撤回

- `u`            撤回
- `Ctrl + r`     取消撤回

## 光标移动

### 单词移动

- `w`: 光标跳转到下一个单词开头         *word*
- `b`: 光标跳转到当前单词开头           *begin*
- `e`: 光标跳转到当前单词末尾           *end*
